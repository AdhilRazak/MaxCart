<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="/css/admin/addbanner.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.7.1.slim.js"></script>
</head>

<body>

    <section id="menu">
        <div class="logo">
            <img src="/images/logo.png" alt="">
            <h2>Dynamic</h2>
        </div>
        <div class="items">
            <li><i class="fa-solid fa-chart-pie"></i> <a href="/admin/dashboard">Dashboard</a></li>
            <li><i class="fa-solid fa-table-cells-large"></i> <a href="/admin/products">Products</a></li>
            <li> <i class="fa-solid fa-list" style="color: #000000;"></i> <a href="/admin/Category">Categories</a></li>
            <li><i class="fa-solid fa-credit-card"></i> <a href="#">Orders</a></li>
            <li><i class="fa-solid fa-credit-card"></i> <a href="/admin/banner">Banners</a></li>
            <li><i class="fa-solid fa-credit-card"></i> <a href="/admin/coupon">Coupons</a></li>
            <li><i class="fa-solid fa-user" style="color: #000000;"></i><a href="/admin/Userslist">Users</a></li>


            <!-- <li><i class="fa-solid fa-chart-line"></i> <a href="#">Blank</a></li> -->
            <div class="logout">
                <li><i class="fa-solid fa-right-from-bracket" style="color: #a10c39;"></i> <a href="#">Logout</a></li>
            </div>
        </div>

    </section>


    <section id="interface">
        <div class="navigation">
            <div class="n1">
                <div>

                    <i id="menu-btn" class="fa-solid fa-bars"></i>
                </div>

            </div>


        </div>

        <h3 class="i-name">Add Products</h3>
        <div class="content_part">

            <!-- Inside the content_part div -->
            <div class="content_part">
                <% existingbanner.forEach(banner=> { %>
                    <form id="edit_banner_form_<%= banner._id %>" action="/admin/editbanner?id=<%= banner._id %>"
                        method="post" enctype="multipart/form-data">
                        <div class="frame">
                            <div class="gap_div">
                                <div class="card_div">
                                    <div class="form-group">
                                        <label for="productName">Name</label>
                                        <input type="text" id="name" name="name" value="<%= banner.name %>"
                                            placeholder="Enter name">
                                    </div>

                                    <div class="form-group">
                                        <label for="title">Title</label>
                                        <input type="text" id="title" name="title" value="<%= banner.title %>"
                                            placeholder="Enter title">
                                    </div>

                                    <div class="form-group">
                                        <label for="offer">Offer</label>
                                        <input type="text" id="offer" name="offer" value="<%= banner.offer %>"
                                            placeholder="Enter offer">
                                    </div>

                                    <div class="form-group">
                                        <div class="message"
                                            style="color: red; margin-bottom: 10px; font-weight: bold;"></div>
                                        <button class="buttonsubmit" type="submit">Submit</button>
                                    </div>
                                </div>
                                <div class="img_div">
                                    <div class="form-group img_centr">
                                        <div class="image_space">
                                            <img src="" alt="" id="imagePreview" style="width: 100%; height: 100%;">
                                        </div>
                                        <div id="add_product_image_error"></div>
                                        <div class="image_buttn">
                                            <input type="file" id="image" name="image" onchange="previewImage(this)" multiple>
                                        </div>
                                        <div id="errorMain" style="color: brown; margin-top: 1rem;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                    <% }) %>
            </div>


        </div>
    </section>
    <script>
        function previewImage(input) {
            var file = input.files[0];
            if (file) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    document.getElementById('imagePreview').src = e.target.result;
                };
                reader.readAsDataURL(file);
            } else {
                document.getElementById("imagePreview").setAttribute('src', 'https://via.placeholder.com/150');
            }
        }
    </script>
    <script>
        $('#menu-btn').click(function () {
            $('#menu').toggleClass('active')
        })

    </script>

</body>

</html>